# Conditional build

Есть 2 мавеновских профиля **common** - общий функционал и **crop** - урезанный функционал

Есть интерфейс *ru.strike.MyInterface* и его реализации
 * *ru.strike.common.CommonClass* - общая реализация
 * *ru.strike.crop.CropClass* - урезанный функционал. бросает исключение при вызове метода.

* Общие классы для всех профилей лежат в **java**
* Классы только для профиля **common** лежат в **java-common**
* Классы только для профиля **crop** лежат в **java-crop**
* Если есть класс, который должен быть во всех сборках, но, например, не работать
в **crop**.
Смотрим на примере MyInterface
Основной код должен работать не с конкретной реализацией, а с интерфейсом **MyInterface**. 
В качестве его реализации для профиля **crop** в сборку попадет CropClass, который только и делает, что бросает исключение. Таким образом, пользоваться им будет нельзя.

#### Собрать проект
```
mvn clean package -Pcommon
```

#### Запустить проект
```
mvn exec:java -Dexec.mainClass="ru.strike.Main" -Pcrop
```

